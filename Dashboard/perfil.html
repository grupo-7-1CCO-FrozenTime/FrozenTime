<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frozen Time</title>
  <link rel="stylesheet" href="perfil.css">
  
</head>

<body>
  <div class="header">
    <div id="espacamentoTopo">
      <div class="flexCenter">
        <!-- <a class="flexCenter" href="../siteInstitucional/index.html"> -->
        <img style="width: 80%;" src="./assets/icon.svg" />
        <!-- </a> -->
      </div>
      <div class="flexCenter">
        <hr>
      </div>
      <div class="flexCenterAlignSelfCenter" style="margin-top: 30px;">
        <a href="perfil.html" style="color: white;">
          <div>
            <div class="flexCenterAlignItemsCenter">
              <img style="width: 40%;margin-right: 2%;" src="./assets/iconePerfilDashboard.svg" />
            </div>
            <div style="margin-top: 3%;">
              Bem-vindo(a), (nomeEmpresa)
            </div>
            <div class="flexCenter" style="margin-top: 1%;text-decoration: underline; color: white;">
              <a href="../siteInstitucional/Login.html" style="color: white;">Sair</a>
            </div>
            <div>
              <hr>
            </div>
          </div>
        </a>
      </div>
      <div class="flexStartAlignSelfCenter" style="margin-left: 10%;margin-top: 10%;">
        <a href="index.html" style="text-decoration: none; color: white;">
          <div class="flexCenterAlignItemsCenter">
            <img class="widthiconHeader" src="./assets/dashboard.svg" />
            <p class="txtHeader">Dashboard</p>
          </div>
        </a>
      </div>
      <div class="flexStartAlignSelfCenter" style="margin-top: 2%;">
        <a href="./lotes.html" style="text-decoration: none; color: white;">
          <div class="flexCenterAlignItemsCenter">
            <img class="widthiconHeader" src="./assets/lotes.png" />
            <p class="txtHeader">Lotes</p>
          </div>
        </a>
      </div>
      <div class="flexStartAlignSelfCenter" style="margin-left: 8%;margin-top: 2%;">
        <a href="./produtos.html" style="text-decoration: none; color: white;">
          <div class="flexCenterAlignItemsCenter">
            <img class="widthiconHeader" src="./assets/iconesProdutos.svg" />
            <p class="txtHeader">Produtos</p>
          </div>
        </a>
      </div>
      <div class="flexStartAlignSelfCenter" style="margin-left: 8%;margin-top: 2%;">
        <a href="./assinaturaDash.html" style="text-decoration: none; color: white;">
          <div class="flexCenterAlignItemsCenter">
            <img class="widthiconHeader" src="./assets/iconeSensor.svg" />
            <p class="txtHeader">Assinatura</p>
          </div>
        </a>
      </div>
      <div class="flexStartAlignSelfCenter" style="margin-left: 8%;margin-top: 2%;">
        <a href="./cadastro.html" style="text-decoration: none; color: white;">
          <div class="flexCenterAlignItemsCenter">
            <img class="widthiconHeader" src="./assets/icons8-cadastro-50.png" />
            <p class="txtHeader">Cadastro</p>
          </div>
        </a>
      </div>
    </div>
  </div>

  <div class="corpo">

    <div class="campos">
      <div class="titulo">
        <h1>Dados do Cadastro</h1>
      </div>

      <div class="dados">
        <div class="outros">

          <div class="container2">
            <div class="contexto">
              <span class="atributo">Nome: </span> <br>
              <input id="ipt_nome" placeholder="Rafael Matos"> <br>
              <hr size="1"> <br>
            </div>
          </div>
          <br><br>
          <div class="container2">
            <div class="contexto">
              <span class="atributo">E-mail:</span> <br>
              <input id="ipt_email" placeholder="rafaelmatos@gmail.com"> <br>
              <hr size="1"> <br>
            </div>
          </div>
          <br>

        </div>

        <div class="outros">

          <div class="container2">
            <div class="contexto">
              <span class="atributo">WhatsApp:</span> <br>
              <input id="ipt_whats" placeholder="(11) 98343-2839" maxlength="15" pattern="\(\d{2}\)\s*\d{5}-\d{4}"
                required> <br>
              <hr size="1"> <br>
            </div>
          </div>
          <br><br>
          <div class="container2">
            <div class="contexto">
              <span class="atributo">Telefone:</span> <br>
              <input id="ipt_telefone" placeholder="(11) 2737-3849" maxlength="14" pattern="\(\d{2}\)\s*\d{5}-\d{4}"
                required> <br>
              <hr size="1"> <br>
            </div>
          </div>
          <br>


        </div>
      </div>

      <div class="contBotao">

        <div class="columnBotao">

          <div class="botao">

            <button onclick="alterarDados()">Alterar Dados</button>

          </div>

          <br>

          <div class="botao">

            <button onclick="dadosEmpresa()">Dados da Empresa</button>

          </div>


          <div class="botao">

            <button style="margin-top: 7%;"><a href="#" class="btnCadFunci">Cadastrar funcionários</a></button>

          </div>

          
         

        </div>

      </div>

    </div>
  </div>

</body>

</html>

<script>

  function dadosEmpresa() {
    window.location.href = 'dadosEmpresa.html'
  }

  var nome = '';
  var email = '';
  var whats = '';
  var telefone = '';
  var deuErro = false

  const tel = document.getElementById('ipt_telefone') // Seletor do campo de telefone

  ipt_telefone.addEventListener('keypress', (e) => mascaraTelefone(e.target.value)) // Dispara quando digitado no campo
  ipt_telefone.addEventListener('change', (e) => mascaraTelefone(e.target.value)) // Dispara quando autocompletado o campo

  const mascaraTelefone = (valor) => {
    valor = valor.replace(/\D/g, "")
    valor = valor.replace(/^(\d{2})(\d)/g, "($1) $2")
    valor = valor.replace(/(\d)(\d{4})$/, "$1-$2")
    ipt_telefone.value = valor // Insere o(s) valor(es) no campo
  }

  const whatsMask = document.getElementById('ipt_whats') // Seletor do campo de telefone

  ipt_whats.addEventListener('keypress', (e) => mascaraWhats(e.target.value)) // Dispara quando digitado no campo
  ipt_whats.addEventListener('change', (e) => mascaraWhats(e.target.value)) // Dispara quando autocompletado o campo

  const mascaraWhats = (valor) => {
    valor = valor.replace(/\D/g, "")
    valor = valor.replace(/^(\d{2})(\d)/g, "($1) $2")
    valor = valor.replace(/(\d)(\d{4})$/, "$1-$2")
    ipt_whats.value = valor // Insere o(s) valor(es) no campo
  }

  // https://pt.stackoverflow.com/questions/51109/como-mascarar-um-input-no-html5 -- 

  function alterarDados() {
    nome = ipt_nome.value;
    email = ipt_email.value;
    whats = ipt_whats.value;
    telefone = ipt_telefone.value;

    if (nome == '' && email == '' && whats == '' && telefone == '') {
      alert('Insira o campo que deseja ser alterado.')
      deuErro = true;
    }
    if (email.length > 0) {
      if (email.indexOf('@') == -1 || email.indexOf('.' == -1)) {
        alert('Insirá um e-mail válido.');
        deuErro = true;
      }
    }
    if (whats.length > 0) {
      if (whats.length != 15) {
        alert('Insirá um número de celular válido.');
        deuErro = true;
      }
    }
    if (telefone.length > 0) {
      if (telefone.length != 14) {
        alert('Insirá um número de telefone válido.');
        deuErro = true;
      } 
    }
    if (deuErro == false) {
      alert ('Dados alterados com sucesso!')
    }
  }

</script>